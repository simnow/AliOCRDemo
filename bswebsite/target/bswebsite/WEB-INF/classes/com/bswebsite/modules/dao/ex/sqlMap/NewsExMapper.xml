<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bswebsite.modules.dao.ex.mapper.NewsExMapper" >

 	<resultMap id="BaseResultMap" type="com.bswebsite.modules.dao.mybatis.entity.News">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Mar 29 14:18:54 CST 2018.
    -->
    <id column="Id" property="id" jdbcType="INTEGER" />
    <result column="PublishUser" property="publishuser" jdbcType="INTEGER" />
    <result column="NewsTitle" property="newstitle" jdbcType="VARCHAR" />
    <result column="NewsAuthor" property="newsauthor" jdbcType="VARCHAR" />
    <result column="NewsType" property="newstype" jdbcType="VARCHAR" />
    <result column="CreateTime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="CreateUser" property="createuser" jdbcType="INTEGER" />
    <result column="UpdateTime" property="updatetime" jdbcType="TIMESTAMP" />
    <result column="UpdateUser" property="updateuser" jdbcType="INTEGER" />
     <result column="PublishTime" jdbcType="VARCHAR" property="publishtime" />
    <result column="NewSImg" property="newsimg" jdbcType="VARCHAR" />
    <result column="ReadCount" property="readcount" jdbcType="INTEGER" />
    <result column="GoodCount" property="goodcount" jdbcType="INTEGER" />
    <result column="NewsAbstract" property="newsabstract" jdbcType="VARCHAR" />
  </resultMap>
	 <resultMap id="ResultMapWithBLOBs" type="com.bswebsite.modules.dao.mybatis.entity.News" extends="BaseResultMap" >
	    <!--
	      WARNING - @mbggenerated
	      This element is automatically generated by MyBatis Generator, do not modify.
	      This element was generated on Tue Mar 27 09:31:46 CST 2018.
	    -->
	    <result column="NewsContent" property="newscontent" jdbcType="LONGVARCHAR" />
	    <result column="NewSImg" property="newsimg" jdbcType="LONGVARBINARY" />
  	</resultMap>
	  <select id="selectAll" resultMap="ResultMapWithBLOBs">
	  	select * from news order by publishtime desc
	  </select>
	  
	  <update id="updateNewReadCount">
	  	update news  set ReadCount=ReadCount+1 where id=#{Id,jdbcType=INTEGER} 
	  </update>
	  
	  <update id="updateNewGoodsCount">
	  	update news  set GoodCount=GoodCount+1 where id=#{Id,jdbcType=INTEGER} 
	  </update>
</mapper>