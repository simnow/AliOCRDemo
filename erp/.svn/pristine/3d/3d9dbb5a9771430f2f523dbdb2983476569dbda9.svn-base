<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.caecc.erp.modules.dao.ex.mapper.WellLogExMapper">
  <resultMap id="BaseResultMap" type="cn.caecc.erp.modules.dao.mybatis.entity.WellLog">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jun 19 14:01:27 CST 2018.
    -->
    <id column="Id" jdbcType="INTEGER" property="id" />
    <result column="LogDate" jdbcType="DATE" property="logdate" />
    <result column="TDepth" jdbcType="DOUBLE" property="tdepth" />
    <result column="WellId" jdbcType="INTEGER" property="wellid" />
    <result column="Did" jdbcType="INTEGER" property="did" />
    <result column="Jdcw" jdbcType="VARCHAR" property="jdcw" />
    <result column="Zygz" jdbcType="VARCHAR" property="zygz" />
    <result column="Xbjh" jdbcType="VARCHAR" property="xbjh" />
    <result column="Zjhbfzr" jdbcType="VARCHAR" property="zjhbfzr" />
    <result column="Zy" jdbcType="VARCHAR" property="zy" />
    <result column="Zs" jdbcType="VARCHAR" property="zs" />
    <result column="Py" jdbcType="VARCHAR" property="py" />
    <result column="Pl" jdbcType="VARCHAR" property="pl" />
    <result column="Rjc" jdbcType="DOUBLE" property="rjc" />
    <result column="Yjc" jdbcType="DOUBLE" property="yjc" />
    <result column="Nljjc" jdbcType="DOUBLE" property="nljjc" />
    <result column="Mqjd" jdbcType="VARCHAR" property="mqjd" />
    <result column="Ztwj" jdbcType="VARCHAR" property="ztwj" />
    <result column="Ztxh" jdbcType="VARCHAR" property="ztxh" />
    <result column="Tgwj" jdbcType="VARCHAR" property="tgwj" />
    <result column="Tgsd" jdbcType="VARCHAR" property="tgsd" />
    <result column="Zjzh" jdbcType="VARCHAR" property="zjzh" />
    <result column="Gcgk" jdbcType="VARCHAR" property="gcgk" />
    <result column="CreateTime" jdbcType="TIMESTAMP" property="createtime" />
  </resultMap>
  
 	<insert id="inserWellLog" parameterType="cn.caecc.erp.modules.dao.mybatis.entity.WellLog">
  		<selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer">
	      SELECT LAST_INSERT_ID()
	    </selectKey>
	    insert into well_log (LogDate, TDepth, WellId, 
	      Did, Jdcw, Zygz, Xbjh, 
	      Zjhbfzr, Zy, Zs, Py, 
	      Pl, Rjc, Yjc, Nljjc, 
	      Mqjd, Ztwj, Ztxh, Tgwj, 
	      Tgsd, Zjzh, Gcgk, CreateTime
	      )
		SELECT #{wellLog.logdate,jdbcType=DATE}, #{wellLog.tdepth,jdbcType=VARCHAR}, #{wellLog.wellid,jdbcType=INTEGER}, 
	      #{wellLog.did,jdbcType=INTEGER}, #{wellLog.jdcw,jdbcType=VARCHAR}, #{wellLog.zygz,jdbcType=VARCHAR}, #{wellLog.xbjh,jdbcType=VARCHAR}, 
	      #{wellLog.zjhbfzr,jdbcType=VARCHAR}, #{wellLog.zy,jdbcType=VARCHAR}, #{wellLog.zs,jdbcType=VARCHAR}, #{wellLog.py,jdbcType=VARCHAR}, 
	      #{wellLog.pl,jdbcType=VARCHAR}, #{wellLog.rjc,jdbcType=VARCHAR}, #{wellLog.yjc,jdbcType=VARCHAR}, #{wellLog.nljjc,jdbcType=VARCHAR}, 
	      #{wellLog.mqjd,jdbcType=VARCHAR}, #{wellLog.ztwj,jdbcType=VARCHAR}, #{wellLog.ztxh,jdbcType=VARCHAR}, #{wellLog.tgwj,jdbcType=VARCHAR}, 
	      #{wellLog.tgsd,jdbcType=VARCHAR}, #{wellLog.zjzh,jdbcType=VARCHAR}, #{wellLog.gcgk,jdbcType=VARCHAR}, #{wellLog.createtime,jdbcType=TIMESTAMP} FROM DUAL
		FROM  DUAL
		WHERE NOT EXISTS(SELECT logdate,wellid FROM well_log 
		WHERE logdate = #{wellLog.logdate,jdbcType=DATE} and wellid= #{wellLog.wellid}) 
  	</insert>
 
  

</mapper>